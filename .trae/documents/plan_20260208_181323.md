# План обновления Metrix до версии "Pro" с Личным кабинетом и Админкой

Мы превратим Metrix из простого поисковика в полноценную платформу с пользователями и статистикой.

## 1. Подготовка и Настройка
1.  **Установка зависимостей**: Добавляем `firebase` для базы данных и аналитики.
2.  **Настройка Firebase**:
    *   Создание файла конфигурации `src/firebase.ts`.
    *   Инструкция для вас по созданию проекта в Firebase Console (вам нужно будет получить ключи).

## 2. Архитектура и Роутинг
Перестроим приложение на многостраничное с использованием `react-router-dom`:
*   `/` — Главная (как сейчас, поиск для гостей + кнопка "Войти").
*   `/login` — Страница входа по номеру телефона.
*   `/cabinet` — Личный кабинет пользователя (список счётчиков).
*   `/admin` — Админ-панель (статистика).

## 3. Новые Модули

### А. Аутентификация (Auth)
*   **Context**: Создадим `AuthContext` для управления состоянием пользователя.
*   **Логика**:
    *   Вход по номеру телефона (без SMS для MVP, просто проверка/создание записи в базе).
    *   Сохранение сессии.

### Б. Личный Кабинет (Cabinet)
*   **Интерфейс**: Список карточек "Мои счётчики".
*   **Функционал**:
    *   Кнопка "Добавить счётчик" (открывает поиск, при успехе — сохраняет в базу).
    *   Автоматическое обновление данных всех сохранённых счётчиков при входе.
    *   Удаление счётчика из списка.

### В. Админ-панель (Admin)
*   **Защита**: Простой пароль (`admin123`).
*   **Дашборд**:
    *   Графики регистраций и активности (Chart.js).
    *   Таблица пользователей и их счётчиков.
    *   Лог "Не найдено" для анализа проблем.

## 4. Интеграция с данными (Firestore)
Структура базы данных:
*   `users`: `{ phone, createdAt, lastLogin }`
*   `meters`: `{ userId, serial, account, address, lastReading, ... }`
*   `logs`: `{ type, value, result, timestamp }`

## 5. UI/UX Улучшения
*   Обновление шапки (Header): добавление навигации (Вход / Кабинет / Выход).
*   Адаптация существующих компонентов (`ResultCard`) для использования в списках.

---
**Готовы начать реализацию?** Я создам необходимые файлы и настрою структуру. От вас потребуется только вставить ключи Firebase позже.