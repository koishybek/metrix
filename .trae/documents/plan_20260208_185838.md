# План обновления Metrix до уровня "ESEP Pro"

Мы превратим Личный кабинет в полноценное мобильное приложение (PWA) с вкладками и услугами.

## 1. Обновление Структуры Данных (Firebase)
Добавим новые коллекции для хранения заявок и уведомлений:
*   `service_requests`: `{ userId, type, status (pending/done), createdAt, details }`
*   `notifications`: `{ userId, title, message, read, date }`

## 2. Новые Компоненты UI (Дизайн ESEP)
*   **BottomNavigation**: Нижняя панель вкладок (Счётчики, Услуги, Профиль) — стандарт для мобильных приложений.
*   **MeterListItem**: Карточка счётчика в списке (акцент на Лицевой Счёт и Адрес, статус сбоку).
*   **ServiceCard**: Карточка услуги (Поверка, Ремонт и т.д.).

## 3. Рефакторинг Личного Кабинета (`/cabinet`)
Разделим кабинет на 3 основные вкладки:
1.  **Главная (Счётчики)**:
    *   Список прикрепленных лицевых счетов.
    *   Кнопка "Прикрепить лицевой счет" (вызывает поиск).
    *   При клике на карту — открывается детальный просмотр (График, История, Инфо).
2.  **Услуги**:
    *   Список доступных услуг (Консультация, Поверка, Установка пломбы).
    *   История поданных заявок и их статус.
3.  **Профиль**:
    *   Данные пользователя.
    *   Статистика.

## 4. Админ-панель v2.0
*   Добавление раздела **"Заявки"**: Таблица поступивших заявок с возможностью смены статуса (Новая -> В работе -> Выполнена).
*   Улучшение просмотра клиентов (как мы сделали в прошлом шаге, но с добавлением истории заявок).

## 5. Техническая реализация
*   Создание `src/services/requests.ts` для работы с заявками.
*   Обновление `Cabinet.tsx` для управления вкладками.
*   Интеграция уведомлений (авто-генерация, если счетчик оффлайн > 3 дней).

Я начну с создания сервисов базы данных, затем перейду к компонентам интерфейса.